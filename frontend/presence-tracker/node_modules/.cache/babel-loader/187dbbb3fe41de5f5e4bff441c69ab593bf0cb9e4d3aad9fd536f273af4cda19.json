{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import Calendar from'react-calendar';import'react-calendar/dist/Calendar.css';import'./AdminDashboard.css';import{jwtDecode}from'jwt-decode';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboard=()=>{const[selectedMonth,setSelectedMonth]=useState('');const[selectedYear,setSelectedYear]=useState('');const[employees,setEmployees]=useState([]);const[selectedEmployee,setSelectedEmployee]=useState(null);const[employeeDetails,setEmployeeDetails]=useState({});const[presenceData,setPresenceData]=useState([]);const[emailText,setEmailText]=useState(\"Hello,\\nPlease ensure that you have submitted your attendance presence.\\nKind Regards,\\nAdminstration\");const[selectedDayData,setSelectedDayData]=useState(null);const[isPopupOpen,setIsPopupOpen]=useState(false);const navigate=useNavigate();const[employeeOverview,setEmployeeOverview]=useState({totalWorkedHoursInMonth:0,totalExtraHoursInMonth:0,totalOffHoursInMonth:0,totalOffDaysInMonth:0,totalExpectedWorkingHours:0,isSubmitted:false,notes:''});const[missingEmployees,setMissingEmployees]=useState([]);const checkTokenExpiration=()=>{const token=localStorage.getItem('token');if(!token){navigate('/login');// Redirect to login if token is missing\nreturn;}try{const decodedToken=jwtDecode(token);const currentTime=Date.now()/1000;if(decodedToken.exp<currentTime){// Token is expired, redirect to login\nlocalStorage.removeItem('token');navigate('/login');}}catch(error){console.error(\"Error decoding token:\",error);localStorage.removeItem('token');// Clear invalid token\nnavigate('/login');// Redirect to login on error\n}};// Sign out function\nconst handleSignOut=()=>{localStorage.removeItem('token');navigate('/login');// Redirect to login page\n};// Check token expiration on component mount\nuseEffect(()=>{checkTokenExpiration();fetchEmployees();},[]);const fetchEmployees=async()=>{const token=localStorage.getItem('token');try{const response=await axios.get('http://localhost:8000/users',{headers:{'Authorization':`Bearer ${token}`}});console.log(\"Fetched Employees:\",response.data);setEmployees(response.data);}catch(error){console.error(\"Error fetching employees:\",error);}};const fetchEmployeeDetails=async employeeId=>{const token=localStorage.getItem('token');try{const response=await axios.get(`http://localhost:8000/users/${employeeId}`,{headers:{'Authorization':`Bearer ${token}`}});setEmployeeDetails(response.data);}catch(error){console.error(\"Error fetching employee details:\",error);}};const fetchPresenceData=async(employeeId,month,year)=>{if(!employeeId||!month||!year)return;try{const response=await axios.get(`http://localhost:8000/employee-presence/${employeeId}/${year}/${month}`);setPresenceData(response.data);}catch(error){console.error(\"Error fetching presence data:\",error);}};const fetchOverviewData=async(employeeId,month,year)=>{if(!employeeId||!month||!year)return;try{const response=await axios.get(`http://localhost:8000/employee-total_presence/${employeeId}/${year}/${month}`);console.log('Overview Data:',response.data);setEmployeeOverview(response.data);// Store the overview data\n}catch(error){console.error(\"Error fetching employee overview data:\",error);}};useEffect(()=>{if(selectedEmployee&&selectedMonth&&selectedYear){fetchOverviewData(selectedEmployee,selectedMonth,selectedYear);fetchPresenceData(selectedEmployee,selectedMonth,selectedYear);}},[selectedEmployee,selectedMonth,selectedYear]);const handleEmployeeSelect=employeeId=>{setSelectedEmployee(employeeId);fetchEmployeeDetails(employeeId);};const handleExportExcel=async(employeeId,year,month,employeeDetails)=>{try{const response=await axios.get(`http://localhost:8000/export_presence_overview/${employeeId}/${year}/${month}`,{responseType:\"blob\"});const blob=new Blob([response.data],{type:\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"});const url=window.URL.createObjectURL(blob);const link=document.createElement(\"a\");link.href=url;link.download=`presence_overview_${year}_${month}_${employeeDetails.name}_${employeeDetails.surname}.xlsx`;document.body.appendChild(link);link.click();link.remove();window.URL.revokeObjectURL(url);}catch(error){console.error(\"Failed to export data to Excel:\",error);alert(\"An error occurred while exporting data. Please try again.\");}};const handleSendEmail=async()=>{if(!selectedYear||!selectedMonth){alert(\"Please select a year and a month first.\");return;}try{const response=await axios.post('http://localhost:8000/send_email_to_missing',{yearMonth:`${selectedYear}-${selectedMonth}`,// Send the selected year and month\ntext:emailText});alert(\"Emails sent to all missing employees!\");}catch(error){console.error(\"Error sending email:\",error);alert(\"Failed to send emails.\");}};const fetchMissingEmployees=async()=>{if(!selectedYear||!selectedMonth)return;try{const response=await axios.get(`http://localhost:8000/retrieve_not_submitted_presence/${selectedYear}/${selectedMonth}`);setMissingEmployees(response.data);}catch(error){console.error(\"Error fetching missing employees:\",error);}};useEffect(()=>{fetchMissingEmployees();},[selectedYear,selectedMonth]);// Calculate activeStartDate for the calendar based on selected month and year\nconst getCalendarStartDate=()=>{if(selectedYear&&selectedMonth){return new Date(selectedYear,selectedMonth-1);// Month is zero-indexed in Date\n}return new Date();// Default to current date if no month/year is selected\n};const handleDayClick=date=>{const dateString=date.toLocaleDateString('en-CA');const dayData=presenceData.find(p=>p.date===dateString);console.log('dayData',dayData);if(dayData){setSelectedDayData(dayData);setIsPopupOpen(true);}};const closePopup=()=>{setIsPopupOpen(false);setSelectedDayData(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Admin Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,className:\"sign-out-button\",children:\"Sign Out\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Year:\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>setSelectedYear(e.target.value),value:selectedYear,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Year\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2023\",children:\"2023\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2024\",children:\"2024\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2025\",children:\"2025\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2026\",children:\"2026\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2027\",children:\"2027\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Month:\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>setSelectedMonth(e.target.value),value:selectedMonth,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Month\"}),/*#__PURE__*/_jsx(\"option\",{value:\"01\",children:\"January\"}),/*#__PURE__*/_jsx(\"option\",{value:\"02\",children:\"February\"}),/*#__PURE__*/_jsx(\"option\",{value:\"03\",children:\"March\"}),/*#__PURE__*/_jsx(\"option\",{value:\"04\",children:\"April\"}),/*#__PURE__*/_jsx(\"option\",{value:\"05\",children:\"May\"}),/*#__PURE__*/_jsx(\"option\",{value:\"06\",children:\"June\"}),/*#__PURE__*/_jsx(\"option\",{value:\"07\",children:\"July\"}),/*#__PURE__*/_jsx(\"option\",{value:\"08\",children:\"August\"}),/*#__PURE__*/_jsx(\"option\",{value:\"09\",children:\"September\"}),/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"October\"}),/*#__PURE__*/_jsx(\"option\",{value:\"11\",children:\"November\"}),/*#__PURE__*/_jsx(\"option\",{value:\"12\",children:\"December\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"missing-employees-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Missing Presence for Employees:\"}),missingEmployees.length>0?/*#__PURE__*/_jsx(\"ul\",{children:missingEmployees.map(employee=>/*#__PURE__*/_jsxs(\"li\",{children:[employee.name,\" \",employee.surname]},employee.id))}):/*#__PURE__*/_jsx(\"p\",{children:\"No employees found.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"employee-list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Employees\"}),/*#__PURE__*/_jsx(\"ul\",{children:employees.map(employee=>/*#__PURE__*/_jsxs(\"li\",{onClick:()=>handleEmployeeSelect(employee.id),children:[employee.name,\" \",employee.surname]},employee.id))})]}),selectedEmployee&&/*#__PURE__*/_jsxs(\"div\",{className:\"employee-details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Employee Details\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",employeeDetails.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Surname:\"}),\" \",employeeDetails.surname]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Job Start Date:\"}),\" \",employeeDetails.job_start_date]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Full-Time:\"}),\" \",employeeDetails.full_time?'Yes':'No']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone Number:\"}),\" \",employeeDetails.phone_number]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Personal Email:\"}),\" \",employeeDetails.personal_email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Work Email:\"}),\" \",employeeDetails.work_email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Role:\"}),\" \",employeeDetails.role]})]}),selectedEmployee&&/*#__PURE__*/_jsxs(\"div\",{className:\"presence-data\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Employee Presence Data\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Worked Hours:\"}),\" \",employeeOverview.totalWorkedHoursInMonth||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Expected Working Hours:\"}),\" \",employeeOverview.totalExpectedWorkingHours||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Extra Hours:\"}),\" \",employeeOverview.totalExtraHoursInMonth||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Off Hours:\"}),\" \",employeeOverview.totalOffHoursInMonth||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Off Days:\"}),\" \",employeeOverview.totalOffDaysInMonth||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Notes:\"}),\" \",employeeOverview.notes||'N/A']}),/*#__PURE__*/_jsx(Calendar,{activeStartDate:getCalendarStartDate(),onClickDay:handleDayClick,tileContent:_ref=>{let{date}=_ref;const dateString=date.toLocaleDateString('en-CA');const dayData=presenceData.find(p=>p.date===dateString);if(dayData){if(dayData.national_holiday){return/*#__PURE__*/_jsx(\"span\",{className:\"holiday-marker\",children:\"\\uD83C\\uDFD6\\uFE0F\"});}if(dayData.weekend){return/*#__PURE__*/_jsx(\"span\",{className:\"weekend-marker\",children:\"\\uD83D\\uDECC\"});}if(dayData.day_off){return/*#__PURE__*/_jsx(\"span\",{className:\"day-off-marker\",children:\"\\uD83C\\uDF34\"});}return/*#__PURE__*/_jsx(\"span\",{className:\"present-marker\",children:\"\\u2714\\uFE0F\"});}return/*#__PURE__*/_jsx(\"span\",{className:\"absent-marker\",children:\"X\"});}})]}),isPopupOpen&&selectedDayData&&/*#__PURE__*/_jsx(\"div\",{className:\"day-popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"day-popup-content\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Details for \",selectedDayData.date]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Morning Entry:\"}),\" \",selectedDayData.entry_time_morning||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Morning Exit:\"}),\" \",selectedDayData.exit_time_morning||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Afternoon Entry:\"}),\" \",selectedDayData.entry_time_afternoon||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Afternoon Exit:\"}),\" \",selectedDayData.exit_time_afternoon||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"National Holiday:\"}),\" \",selectedDayData.national_holiday?'✔':'X']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Weekend:\"}),\" \",selectedDayData.weekend?'✔':'X']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Day Off:\"}),\" \",selectedDayData.day_off?'✔':'X']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Time Off:\"}),\" \",selectedDayData.time_off||'00:00']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Extra Hours:\"}),\" \",selectedDayData.extra_hours||'00:00']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Notes:\"}),\" \",selectedDayData.notes||'None']}),/*#__PURE__*/_jsx(\"button\",{onClick:closePopup,children:\"Close\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"email-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Send Email to Missing Employees\"}),/*#__PURE__*/_jsx(\"textarea\",{value:emailText,onChange:e=>setEmailText(e.target.value),rows:\"4\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendEmail,children:\"Send Email\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(!selectedEmployee||!selectedYear||!selectedMonth){alert(\"Please select an employee, year, and month before exporting.\");return;}handleExportExcel(selectedEmployee,selectedYear,selectedMonth,employeeDetails);},children:\"Export Data to Excel\"})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","Calendar","jwtDecode","useNavigate","jsx","_jsx","jsxs","_jsxs","AdminDashboard","selectedMonth","setSelectedMonth","selectedYear","setSelectedYear","employees","setEmployees","selectedEmployee","setSelectedEmployee","employeeDetails","setEmployeeDetails","presenceData","setPresenceData","emailText","setEmailText","selectedDayData","setSelectedDayData","isPopupOpen","setIsPopupOpen","navigate","employeeOverview","setEmployeeOverview","totalWorkedHoursInMonth","totalExtraHoursInMonth","totalOffHoursInMonth","totalOffDaysInMonth","totalExpectedWorkingHours","isSubmitted","notes","missingEmployees","setMissingEmployees","checkTokenExpiration","token","localStorage","getItem","decodedToken","currentTime","Date","now","exp","removeItem","error","console","handleSignOut","fetchEmployees","response","get","headers","log","data","fetchEmployeeDetails","employeeId","fetchPresenceData","month","year","fetchOverviewData","handleEmployeeSelect","handleExportExcel","responseType","blob","Blob","type","url","window","URL","createObjectURL","link","document","createElement","href","download","name","surname","body","appendChild","click","remove","revokeObjectURL","alert","handleSendEmail","post","yearMonth","text","fetchMissingEmployees","getCalendarStartDate","handleDayClick","date","dateString","toLocaleDateString","dayData","find","p","closePopup","className","children","onClick","onChange","e","target","value","length","map","employee","id","job_start_date","full_time","phone_number","personal_email","work_email","role","activeStartDate","onClickDay","tileContent","_ref","national_holiday","weekend","day_off","entry_time_morning","exit_time_morning","entry_time_afternoon","exit_time_afternoon","time_off","extra_hours","rows"],"sources":["/home/sl/PycharmProjects/presenza/frontend/presence-tracker/src/components/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Calendar from 'react-calendar';\nimport 'react-calendar/dist/Calendar.css';\nimport './AdminDashboard.css';\nimport { jwtDecode } from 'jwt-decode';\nimport { useNavigate } from 'react-router-dom';\n\nconst AdminDashboard = () => {\n  const [selectedMonth, setSelectedMonth] = useState('');\n  const [selectedYear, setSelectedYear] = useState('');\n  const [employees, setEmployees] = useState([]);\n  const [selectedEmployee, setSelectedEmployee] = useState(null);\n  const [employeeDetails, setEmployeeDetails] = useState({});\n  const [presenceData, setPresenceData] = useState([]);\n  const [emailText, setEmailText] = useState(\"Hello,\\nPlease ensure that you have submitted your attendance presence.\\nKind Regards,\\nAdminstration\");\n  const [selectedDayData, setSelectedDayData] = useState(null); \n  const [isPopupOpen, setIsPopupOpen] = useState(false); \n  const navigate = useNavigate(); \n  const [employeeOverview, setEmployeeOverview] = useState({\n    totalWorkedHoursInMonth: 0,\n    totalExtraHoursInMonth: 0,\n    totalOffHoursInMonth: 0,\n    totalOffDaysInMonth: 0,\n    totalExpectedWorkingHours: 0,\n    isSubmitted: false,\n    notes: ''\n  });\n  const [missingEmployees, setMissingEmployees] = useState([]);\n\n\n  const checkTokenExpiration = () => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      navigate('/login'); // Redirect to login if token is missing\n      return;\n    }\n\n    try {\n      const decodedToken = jwtDecode(token);\n      const currentTime = Date.now() / 1000;\n      if (decodedToken.exp < currentTime) {\n        // Token is expired, redirect to login\n        localStorage.removeItem('token');\n        navigate('/login');\n      }\n    } catch (error) {\n      console.error(\"Error decoding token:\", error);\n      localStorage.removeItem('token'); // Clear invalid token\n      navigate('/login'); // Redirect to login on error\n    }\n  };\n\n    // Sign out function\n    const handleSignOut = () => {\n      localStorage.removeItem('token');\n      navigate('/login'); // Redirect to login page\n    };\n  \n    // Check token expiration on component mount\n    useEffect(() => {\n      checkTokenExpiration();\n      fetchEmployees();\n    }, []);\n\n  \n  const fetchEmployees = async () => {\n    const token = localStorage.getItem('token');\n    try {\n      const response = await axios.get('http://localhost:8000/users', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      console.log(\"Fetched Employees:\", response.data);\n      setEmployees(response.data);\n    } catch (error) {\n      console.error(\"Error fetching employees:\", error);\n    }\n  };\n\n  const fetchEmployeeDetails = async (employeeId) => {\n    const token = localStorage.getItem('token');\n    try {\n      const response = await axios.get(`http://localhost:8000/users/${employeeId}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      setEmployeeDetails(response.data);\n    } catch (error) {\n      console.error(\"Error fetching employee details:\", error);\n    }\n  };\n\n  const fetchPresenceData = async (employeeId, month, year) => {\n    if (!employeeId || !month || !year) return; \n    try {\n      const response = await axios.get(`http://localhost:8000/employee-presence/${employeeId}/${year}/${month}`);\n      setPresenceData(response.data);\n    } catch (error) {\n      console.error(\"Error fetching presence data:\", error);\n    }\n  };\n\n  const fetchOverviewData = async (employeeId, month, year) => {\n    if (!employeeId || !month || !year) return;\n    try {\n      const response = await axios.get(\n        `http://localhost:8000/employee-total_presence/${employeeId}/${year}/${month}`\n      );\n      console.log('Overview Data:', response.data);\n      setEmployeeOverview(response.data); // Store the overview data\n    } catch (error) {\n      console.error(\"Error fetching employee overview data:\", error);\n    }\n  };\n\n  useEffect(() => {\n    if (selectedEmployee && selectedMonth && selectedYear) {\n      fetchOverviewData(selectedEmployee, selectedMonth, selectedYear);\n      fetchPresenceData(selectedEmployee, selectedMonth, selectedYear);\n    }\n  }, [selectedEmployee, selectedMonth, selectedYear]);\n\n  const handleEmployeeSelect = (employeeId) => {\n    setSelectedEmployee(employeeId);\n    fetchEmployeeDetails(employeeId);\n  };\n\n  const handleExportExcel = async (employeeId, year, month, employeeDetails) => {\n    try {\n      const response = await axios.get(\n        `http://localhost:8000/export_presence_overview/${employeeId}/${year}/${month}`,\n        {\n          responseType: \"blob\", \n        }\n      );\n      const blob = new Blob([response.data], {\n        type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n      });\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.download = `presence_overview_${year}_${month}_${employeeDetails.name}_${employeeDetails.surname}.xlsx`;\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n      window.URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error(\"Failed to export data to Excel:\", error);\n      alert(\"An error occurred while exporting data. Please try again.\");\n    }\n  };\n  \n  \n\n  const handleSendEmail = async () => {\n    if (!selectedYear || !selectedMonth) {\n      alert(\"Please select a year and a month first.\");\n      return;\n    }\n  \n    try {\n      const response = await axios.post(\n        'http://localhost:8000/send_email_to_missing',\n        {\n          yearMonth: `${selectedYear}-${selectedMonth}`, // Send the selected year and month\n          text: emailText,\n        }\n      );\n      alert(\"Emails sent to all missing employees!\");\n    } catch (error) {\n      console.error(\"Error sending email:\", error);\n      alert(\"Failed to send emails.\");\n    }\n  };\n  \n  const fetchMissingEmployees = async () => {\n    if (!selectedYear || !selectedMonth) return;\n\n    try {\n      const response = await axios.get(\n        `http://localhost:8000/retrieve_not_submitted_presence/${selectedYear}/${selectedMonth}`\n      );\n      setMissingEmployees(response.data);\n    } catch (error) {\n      console.error(\"Error fetching missing employees:\", error);\n    }\n  };\n\n  useEffect(() => {\n    fetchMissingEmployees();\n  }, [selectedYear, selectedMonth]);\n\n\n  // Calculate activeStartDate for the calendar based on selected month and year\n  const getCalendarStartDate = () => {\n    if (selectedYear && selectedMonth) {\n      return new Date(selectedYear, selectedMonth - 1); // Month is zero-indexed in Date\n    }\n    return new Date(); // Default to current date if no month/year is selected\n  };\n\n\n    \t\n  const handleDayClick = (date) => {\n    const dateString = date.toLocaleDateString('en-CA');\n    const dayData = presenceData.find((p) => p.date === dateString);\n    console.log('dayData', dayData)\n    if (dayData) {\n      setSelectedDayData(dayData);\n      setIsPopupOpen(true);\n    }\n  };\n  const closePopup = () => {\n    setIsPopupOpen(false);\n    setSelectedDayData(null);\n  };\n \n  return (\n    <div className=\"admin-dashboard\">\n      <h1>Admin Dashboard</h1>\n      {/* Sign Out Button */}\n      <button onClick={handleSignOut} className=\"sign-out-button\">Sign Out</button>\n      {/* Month and Year Selection */}\n      <div className=\"filter-section\">    \n        <label>Year:</label>\n        <select onChange={(e) => setSelectedYear(e.target.value)} value={selectedYear}>\n          <option value=\"\">Select Year</option>\n          <option value=\"2023\">2023</option>\n          <option value=\"2024\">2024</option>\n          <option value=\"2025\">2025</option>\n          <option value=\"2026\">2026</option>\n          <option value=\"2027\">2027</option>\n        </select>\n\n        \n        <label>Month:</label>\n        <select onChange={(e) => setSelectedMonth(e.target.value)} value={selectedMonth}>\n          <option value=\"\">Select Month</option>\n          <option value=\"01\">January</option>\n          <option value=\"02\">February</option>\n          <option value=\"03\">March</option>\n          <option value=\"04\">April</option>\n          <option value=\"05\">May</option>\n          <option value=\"06\">June</option>\n          <option value=\"07\">July</option>\n          <option value=\"08\">August</option>\n          <option value=\"09\">September</option>\n          <option value=\"10\">October</option>\n          <option value=\"11\">November</option>\n          <option value=\"12\">December</option>\n        </select>\n      </div>\n\n      {/* Missing Employees Section */}\n      <div className=\"missing-employees-section\">\n        <h2>Missing Presence for Employees:</h2>\n        {missingEmployees.length > 0 ? (\n          <ul>\n            {missingEmployees.map((employee) => (\n              <li key={employee.id}>\n                {employee.name} {employee.surname}\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p>No employees found.</p>\n        )}\n      </div>\n\n      {/* Employee List */}\n      <div className=\"employee-list\">\n        <h2>Employees</h2>\n        <ul>\n          {employees.map((employee) => (\n            <li key={employee.id} onClick={() => handleEmployeeSelect(employee.id)}>\n              {employee.name} {employee.surname}\n            </li>\n          ))}\n        </ul>\n      </div>\n\n      {/* Employee Details */}\n      {selectedEmployee && (\n        <div className=\"employee-details\">\n          <h2>Employee Details</h2>\n          <p><strong>Name:</strong> {employeeDetails.name}</p>\n          <p><strong>Surname:</strong> {employeeDetails.surname}</p>\n          <p><strong>Job Start Date:</strong> {employeeDetails.job_start_date}</p>\n          <p><strong>Full-Time:</strong> {employeeDetails.full_time ? 'Yes' : 'No'}</p>\n          <p><strong>Phone Number:</strong> {employeeDetails.phone_number}</p>\n          <p><strong>Personal Email:</strong> {employeeDetails.personal_email}</p>\n          <p><strong>Work Email:</strong> {employeeDetails.work_email}</p>\n          <p><strong>Role:</strong> {employeeDetails.role}</p>\n        </div>\n      )}\n\n      {/* Employee Presence Data */}\n      {selectedEmployee && (\n        <div className=\"presence-data\">\n          <h2>Employee Presence Data</h2>\n          <p><strong>Total Worked Hours:</strong> {employeeOverview.totalWorkedHoursInMonth || 'N/A'}</p>\n          <p><strong>Expected Working Hours:</strong> {employeeOverview.totalExpectedWorkingHours || 'N/A'}</p>\n          <p><strong>Total Extra Hours:</strong> {employeeOverview.totalExtraHoursInMonth || 'N/A'}</p>\n          <p><strong>Total Off Hours:</strong> {employeeOverview.totalOffHoursInMonth || 'N/A'}</p>\n          <p><strong>Total Off Days:</strong> {employeeOverview.totalOffDaysInMonth || 'N/A'}</p>\n          <p><strong>Notes:</strong> {employeeOverview.notes || 'N/A'}</p>\n\n\n          {/* Calendar Component */}\n          <Calendar\n            activeStartDate={getCalendarStartDate()}\n            onClickDay={handleDayClick}\n            tileContent={({ date }) => {\n              const dateString = date.toLocaleDateString('en-CA');\n              const dayData = presenceData.find((p) => p.date === dateString);\n\n              if (dayData) {\n                if (dayData.national_holiday) {\n                  return <span className=\"holiday-marker\">🏖️</span>;\n                }\n                if (dayData.weekend) {\n                  return <span className=\"weekend-marker\">🛌</span>;\n                }\n                if (dayData.day_off) {\n                  return <span className=\"day-off-marker\">🌴</span>;\n                }\n                return <span className=\"present-marker\">✔️</span>;\n              }\n              return <span className=\"absent-marker\">X</span>;\n            }}\n          />\n        </div>\n      )}\n\n\n      {/* Day Details Popup */}\n      {isPopupOpen && selectedDayData && (\n        <div className=\"day-popup\">\n          <div className=\"day-popup-content\">\n            <h2>Details for {selectedDayData.date}</h2>\n            <p><strong>Morning Entry:</strong> {selectedDayData.entry_time_morning || 'N/A'}</p>\n            <p><strong>Morning Exit:</strong> {selectedDayData.exit_time_morning || 'N/A'}</p>\n            <p><strong>Afternoon Entry:</strong> {selectedDayData.entry_time_afternoon || 'N/A'}</p>\n            <p><strong>Afternoon Exit:</strong> {selectedDayData.exit_time_afternoon || 'N/A'}</p>\n            <p><strong>National Holiday:</strong> {selectedDayData.national_holiday ? '✔' : 'X'}</p>\n            <p><strong>Weekend:</strong> {selectedDayData.weekend ?'✔' : 'X'}</p>\n            <p><strong>Day Off:</strong> {selectedDayData.day_off ? '✔' : 'X'}</p>\n            <p><strong>Time Off:</strong> {selectedDayData.time_off || '00:00'}</p>\n            <p><strong>Extra Hours:</strong> {selectedDayData.extra_hours || '00:00'}</p>\n            <p><strong>Notes:</strong> {selectedDayData.notes || 'None'}</p>\n            <button onClick={closePopup}>Close</button>\n          </div>\n        </div>\n      )}\n\n      {/* Email and Export Section */}\n      <div className=\"email-section\">\n        <h2>Send Email to Missing Employees</h2>\n        <textarea\n          value={emailText}\n          onChange={(e) => setEmailText(e.target.value)}\n          rows=\"4\"\n        />\n        <button onClick={handleSendEmail}>Send Email</button>\n      </div>\n\n      <button\n        onClick={() => {\n          if (!selectedEmployee || !selectedYear || !selectedMonth) {\n            alert(\"Please select an employee, year, and month before exporting.\");\n            return;\n          }\n          handleExportExcel(selectedEmployee, selectedYear, selectedMonth,employeeDetails);\n        }}\n      >\n        Export Data to Excel\n      </button>\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}