{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{useForm}from\"react-hook-form\";import{useNavigate}from\"react-router-dom\";import'./Register.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterPage=()=>{const{register,handleSubmit}=useForm();const[errorMessage,setErrorMessage]=useState(\"\");const navigate=useNavigate();const onSubmit=async data=>{try{setErrorMessage(\"\");const response=await axios.post(\"http://localhost:8000/register\",data);console.log(\"Registration successful:\",response.data);navigate(\"/login\");}catch(error){if(error.response&&error.response.status===400){setErrorMessage(error.response.data.detail);}else{setErrorMessage(\"An unexpected error occurred. Please try again.\");}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"register-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",...register(\"name\",{required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Surname:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",...register(\"surname\",{required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Job Start Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",...register(\"job_start_date\",{required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full Time:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",...register(\"full_time\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Phone Number:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",...register(\"phone_number\",{required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Personal Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",...register(\"personal_email\",{required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Work Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",...register(\"work_email\",{required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",...register(\"password\",{required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Role:\"}),/*#__PURE__*/_jsx(\"select\",{...register(\"role\",{required:true}),children:/*#__PURE__*/_jsx(\"option\",{value:\"employee\",children:\"Employee\"})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})]}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errorMessage})]});};export default RegisterPage;","map":{"version":3,"names":["React","useState","axios","useForm","useNavigate","jsx","_jsx","jsxs","_jsxs","RegisterPage","register","handleSubmit","errorMessage","setErrorMessage","navigate","onSubmit","data","response","post","console","log","error","status","detail","className","children","type","required","value"],"sources":["/home/sl/PycharmProjects/presenza/frontend/presence-tracker/src/components/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\"; \nimport './Register.css';\n\nconst RegisterPage = () => {\n  const { register, handleSubmit } = useForm();\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const navigate = useNavigate();\n\n  const onSubmit = async (data) => {\n    try {\n      setErrorMessage(\"\");\n      const response = await axios.post(\"http://localhost:8000/register\", data);\n      console.log(\"Registration successful:\", response.data);\n      navigate(\"/login\");\n\n    } catch (error) {\n      if (error.response && error.response.status === 400) {\n        setErrorMessage(error.response.data.detail);\n      } else {\n        setErrorMessage(\"An unexpected error occurred. Please try again.\");\n      }\n    }\n  };\n\n  return (\n    <div className=\"register-container\">\n      <h2>Register</h2>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div className=\"form-group\">\n          <label>Name:</label>\n          <input type=\"text\" {...register(\"name\", { required: true })} />\n        </div>\n        <div className=\"form-group\">\n          <label>Surname:</label>\n          <input type=\"text\" {...register(\"surname\", { required: true })} />\n        </div>\n        <div className=\"form-group\">\n          <label>Job Start Date:</label>\n          <input type=\"date\" {...register(\"job_start_date\", { required: true })} />\n        </div>\n        <div className=\"form-group\">\n          <label>Full Time:</label>\n          <input type=\"checkbox\" {...register(\"full_time\")} />\n        </div>\n        <div className=\"form-group\">\n          <label>Phone Number:</label>\n          <input type=\"text\" {...register(\"phone_number\", { required: true })} />\n        </div>\n        <div className=\"form-group\">\n          <label>Personal Email:</label>\n          <input type=\"email\" {...register(\"personal_email\", { required: true })} />\n        </div>\n        <div className=\"form-group\">\n          <label>Work Email:</label>\n          <input type=\"email\" {...register(\"work_email\", { required: true })} />\n        </div>\n        <div className=\"form-group\">\n          <label>Password:</label>\n          <input type=\"password\" {...register(\"password\", { required: true })} />\n        </div>\n        {/* New role field */}\n        <div className=\"form-group\">\n          <label>Role:</label>\n          <select {...register(\"role\", { required: true })}>\n            <option value=\"employee\">Employee</option>\n          </select>\n        </div>\n        <button type=\"submit\">Register</button>\n      </form>\n\n      {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\n    </div>\n  );\n};\n\nexport default RegisterPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}